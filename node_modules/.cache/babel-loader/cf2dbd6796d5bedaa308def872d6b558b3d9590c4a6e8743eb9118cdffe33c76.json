{"ast":null,"code":"import React,{useState}from\"react\";import\"./UploadForm.css\";// Import CSS for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadForm=()=>{const[selectedFile,setSelectedFile]=useState(null);const[imageURL,setImageURL]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);// Loading state\nconst handleFileChange=event=>{setSelectedFile(event.target.files[0]);setImageURL(\"\");setError(\"\");};const handleUpload=()=>{if(!selectedFile){setError(\"Please select an image first.\");return;}setLoading(true);// Show loader while processing\nconst formData=new FormData();formData.append(\"file\",selectedFile);fetch(\"https://sign-backend-j4dw.onrender.com/upload\",{// Ensure correct backend URL\nmethod:\"POST\",body:formData}).then(response=>response.json()).then(data=>{setLoading(false);// Hide loader\nif(data.error){setError(data.error);}else{setImageURL(`https://sign-backend-j4dw.onrender.com/output/${data.processed_image}`);}}).catch(error=>{setLoading(false);console.error(\"Error:\",error);setError(\"Error processing image. Please try again.\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Sign Language Detection\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,className:\"file-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,className:\"upload-button\",children:\"Upload\"})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loader\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Analyzing image...\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),imageURL&&/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Processed Image:\"}),/*#__PURE__*/_jsx(\"img\",{src:imageURL,alt:\"Processed\",className:\"output-image\"})]})]});};export default UploadForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UploadForm","selectedFile","setSelectedFile","imageURL","setImageURL","error","setError","loading","setLoading","handleFileChange","event","target","files","handleUpload","formData","FormData","append","fetch","method","body","then","response","json","data","processed_image","catch","console","className","children","type","accept","onChange","onClick","src","alt"],"sources":["E:/sd_DL/frontend/src/components/UploadForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./UploadForm.css\"; // Import CSS for styling\r\n\r\nconst UploadForm = () => {\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    const [imageURL, setImageURL] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false); // Loading state\r\n\r\n    const handleFileChange = (event) => {\r\n        setSelectedFile(event.target.files[0]);\r\n        setImageURL(\"\");\r\n        setError(\"\");\r\n    };\r\n\r\n    const handleUpload = () => {\r\n        if (!selectedFile) {\r\n            setError(\"Please select an image first.\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true); // Show loader while processing\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", selectedFile);\r\n\r\n        fetch(\"https://sign-backend-j4dw.onrender.com/upload\", {  // Ensure correct backend URL\r\n            method: \"POST\",\r\n            body: formData,\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setLoading(false); // Hide loader\r\n                \r\n                if (data.error) {\r\n                    setError(data.error);\r\n                } else {\r\n                    setImageURL(`https://sign-backend-j4dw.onrender.com/output/${data.processed_image}`);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                setLoading(false);\r\n                console.error(\"Error:\", error);\r\n                setError(\"Error processing image. Please try again.\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"title\">Sign Language Detection</h2>\r\n\r\n            <div className=\"upload-box\">\r\n                <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} className=\"file-input\"/>\r\n                <button onClick={handleUpload} className=\"upload-button\">Upload</button>\r\n            </div>\r\n\r\n            {loading && (\r\n                <div className=\"loading\">\r\n                    <div className=\"loader\"></div>\r\n                    <p>Analyzing image...</p>\r\n                </div>\r\n            )}\r\n\r\n            {error && <p className=\"error\">{error}</p>}\r\n            \r\n            {imageURL && (\r\n                <div className=\"result\">\r\n                    <h3>Processed Image:</h3>\r\n                    <img src={imageURL} alt=\"Processed\" className=\"output-image\"/>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UploadForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}